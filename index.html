<html>
    <head>
        <title>AgroCaña</title>
        <meta charset="UTF-8">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inder&family=Inter:opsz,wght@14..32,200&display=swap" rel="stylesheet">
        <link rel="icon" type="png" href="iconos/logo.png"/>
        <link rel="stylesheet" href="estilos/formularios.css">
        <style>
            body {
                background-image: url('iconos/fondo.jpg');
                background-size: cover;
                background-position: center;
                background-repeat: no-repeat;
            }
        </style>
    </head>
    <body onload="validacion()">
        <form action="login.php" method="post">
            <div align="center">
                <image src="iconos/logo.png" alt="Logo AgroCaña" width="180" height="180" />
            </div>
            <h1 class="inder-regular">AgroCaña Lara</h1><br>
            <h2 style="color: #8B8383;">Sistema de gestión de cultivos</h2><br>
            <div align="center">
            <label for="user">Usuario</label><br>
            <input type="text" id="user" name="user" placeholder="Usuario" class="error" onclick="borde()" required><br><br>
            <label for="password">Contraseña</label><br>
            <input type="password" id="password" name="password" class="error" placeholder="******" onclick="borde()" required><br><br>
            <input type="submit" value="Iniciar Sesión">
            </div>   
        </form>
    </body>
    <script>
        function validacion() {
            var $inicio = localStorage.getItem('ingreso');
            if ($inicio == 'incorrecto') {
                window.localStorage.setItem('ingreso','correcto');
                document.querySelectorAll('.error').forEach(l => {
                    l.style.border = '2px solid red';
                } );
                alert('Usuario o contraseña incorrectos, por favor intentelo de nuevo');
            }
        }
        function borde() {
            document.querySelectorAll('.error').forEach(l => {
                l.style.border = '0px';
            } );
        }
    </script>         
</html>